<html>
<head>
	<meta charset="utf-8">
	<title>Exercise 2 - JavaScript 练习</title>
</head>
<body>
	<script>
		// a = [2,4,5,9,8,0,1,3,6];
		function qsort (arr, low, high) {
			if (low >= high-1)  return;

			var first = low, last = high-1;
			var key = arr[low];
			var tmp;
			while (first < last){
				while(first<last && arr[last]>=key)	--last;
				while(first<last && arr[first]<=key) ++first;
				tmp        = arr[last]
				arr[last]  = arr[first]
				arr[first] = tmp
			}
			tmp        = arr[first]
			arr[first] = key;
			arr[low]   = tmp
			console.log('key:['+first+']:'+key)
			console.log(arr);
			qsort(arr, low, first);
			qsort(arr, first+1, high);
		}
		//qsort(a,0,a.length)
		function onSortClick(){
			var a = eval(document.getElementById('arr_in').value);
			var text = "快排前的数组为：" + a;
			qsort(a,0,a.length);
			text += "<br />";
			text += "快排后的数组为：" + a;
			var outSpan = document.getElementById('arr_out').innerHTML = text;
			return false;
		}
	</script>
	在文本框中输入待排序的数组(eg.&nbsp;&nbsp;&nbsp;[1,214,25,37,14,75,26,47,58,49]&nbsp;&nbsp;&nbsp;):<br /><input id="arr_in" />
	<input type="button" onclick="return onSortClick();" value="进行快排" /><br />
	<span id="arr_out" ></span><br />
</body>
</html>
